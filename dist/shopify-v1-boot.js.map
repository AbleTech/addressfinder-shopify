{"version":3,"sources":["webpack:///webpack/bootstrap dcf3217efee4f3103c5d","webpack:///./src/shopify_plugin.js","webpack:///./src/address_form_config/default_region_mappings.js","webpack:///./src/address_form_config/user_registration_new_address.js","webpack:///./src/config_manager.js","webpack:///./src/address_form_config/dynamic_edit_address.js","webpack:///./src/address_form_config/billing_checkout.js","webpack:///./src/address_form_config/shipping_checkout.js","webpack:///./src/page_manager.js","webpack:///./src/mutation_manager.js","webpack:///./src/form_manager.js"],"names":["d","w","ShopifyPlugin","loadAF","window","AF","PluginManager","ConfigManager","MutationManager","mutationEventHandler","bind","ignoredClass","addressFormConfigurations","load","reload","repetitions","iframe","document","querySelector","src","setTimeout","_disableGoogleAutocomplete","widgetConfig","nzKey","AddressFinderPlugin","key","auKey","nzWidgetOptions","widgetOptions","auWidgetOptions","debug","PageManager","eventToDispatch","_shopifyPlugin","s","createElement","async","onload","_initPlugin","body","appendChild","Widget","_addScript","label","layoutSelector","countryIdentifier","searchIdentifier","nz","countryValue","elements","address1","address2","suburb","city","region","postcode","regionMappings","defaultRegionMappings","au","state","stateMappings","dynamicForms","generateDynamicForms","BillingCheckout","ShippingCheckout","userRegistrationNewAddress","identifyingElements","querySelectorAll","dynamicFormConfig","forEach","identifyingElement","index","push","_configureDynamicForm","id","split","formConfig","address1and2","formHelpers","loadFormHelpers","formHelper","destroy","identifiedAddressFormConfigurations","_identifyAddressForms","_initialiseFormHelper","addressFormConfig","log","searchElement","getElementById","formHelperConfig","countryElement","address_line_1","address_line_2","locality_name","state_territory","helper","FormManager","message","data","undefined","console","monitorMutations","MutationObserver","observer","_mutationHandler","observe","childList","subtree","addEventListener","_domNodeModifiedHandler","info","mutations","changedNodes","reduce","nodes","mutation","target","classList","contains","concat","addedNodes","removedNodes","anyBigCommerceChanges","find","node","_setMutationTimeout","event","className","includes","relatedNode","_mutationTimeout","clearTimeout","widgets","countryCodes","_bindToForm","_log","widgetCountryCode","disable","removeEventListener","boundCountryChangedListener","_countryChanged","nzWidget","AddressFinder","on","_nzAddressSelected","auWidget","_auAddressSelected","enable","preserveValues","activeCountry","value","_setActiveCountry","isInactiveCountry","countryCode","filter","_clearElementValues","Object","entries","name","element","_setElementValue","values","widget","addressIsPresent","combined","length","join","fullAddress","metaData","selected","NZSelectedAddress","_combineAddressElements","address_line_1_and_2","translatedRegionValue","translatedStateValue","elementName","errorMessage","warn","_dispatchChangeEvent","Event","createEvent","initEvent","dispatchEvent"],"mappings":"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","file":"shopify-v1-boot.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dcf3217efee4f3103c5d","import PageManager from \"./page_manager\";\nimport MutationManager from \"./mutation_manager\"\nimport ConfigManager from \"./config_manager\"\n\n(function(d, w) {\n  class ShopifyPlugin {\n    constructor() {\n      this.loadAF()\n\n      window.AF = window.AF || {}\n      this.PluginManager = null\n      this.ConfigManager = new ConfigManager()\n\n      new MutationManager({\n        mutationEventHandler: this.mutationEventHandler.bind(this),\n        ignoredClass: \"af_list\"\n      })\n    }\n\n    mutationEventHandler() {\n      let addressFormConfigurations = this.ConfigManager.load()\n      if (this.PluginManager) {\n        this.PluginManager.reload(addressFormConfigurations)\n      }\n    }\n\n    _disableGoogleAutocomplete(repetitions) {\n      var iframe = document.querySelector('#google-autocomplete-iframe, #autocomplete-service-iframe');\n    \n      if (iframe) {\n        iframe.src = '';\n      }\n    \n      if (repetitions > 0) {\n        setTimeout(this._disableGoogleAutocomplete, 1000, repetitions - 1);\n      }\n    }\n\n    _initPlugin(){\n      this._disableGoogleAutocomplete(5);\n    \n      const widgetConfig = {\n        nzKey: window.AddressFinderPlugin.key,\n        auKey: window.AddressFinderPlugin.key,\n        nzWidgetOptions: window.AddressFinderPlugin.nzWidgetOptions || window.AddressFinderPlugin.widgetOptions || {},\n        auWidgetOptions: window.AddressFinderPlugin.auWidgetOptions || window.AddressFinderPlugin.widgetOptions || {},\n        debug: window.AddressFinderPlugin.debug || false\n      }\n\n      this.PageManager = new PageManager({\n        addressFormConfigurations: this.ConfigManager.load(),\n        widgetConfig,\n        eventToDispatch: 'input' \n      })\n    \n      window.AF._shopifyPlugin = this.PageManager\n    }\n\n    _addScript() {\n      var s = document.createElement('script')\n      s.src = 'https://api.addressfinder.io/assets/v3/widget.js'\n      s.async = 1\n      s.onload = this._initPlugin.bind(this)\n      document.body.appendChild(s)\n    }\n\n    loadAF(){\n      if ( window.AF && window.AF.Widget ) {\n        this._initPlugin();\n      } else {\n        this._addScript();\n      }\n    }\n  }\n\n  new ShopifyPlugin\n\n})(document, window)\n\n\n// WEBPACK FOOTER //\n// ./src/shopify_plugin.js","export default {\n  'Auckland Region':          'AUK',\n  'Bay of Plenty Region':     'BOP',\n  'Canterbury Region':        'CAN',\n  'Gisborne Region':          'GIS',\n  'Hawke\\'s Bay Region':      'HKB',\n  'Manawatu-Wanganui Region': 'MWT',\n  'Marlborough Region':       'MBH',\n  'Nelson Region':            'NSN',\n  'Northland Region':         'NTL',\n  'Otago Region':             'OTA',\n  'Southland Region':         'STL',\n  'Taranaki Region':          'TKI',\n  'Tasman Region':            'TAS',\n  'Waikato Region':           'WKO',\n  'Wellington Region':        'WGN',\n  'West Coast Region':        'WTC',\n  'Other Region':             null\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/default_region_mappings.js","\nimport defaultRegionMappings from './default_region_mappings'\n\nexport default {\n  label: \"User Registration Address Form\",\n  layoutSelector: \"#AddressNewForm\",\n  countryIdentifier: 'AddressCountryNew',\n  searchIdentifier: 'AddressAddress1New',\n  nz: {\n    countryValue: \"New Zealand\",\n    elements: {\n      address1: 'AddressAddress1New',\n      address2: 'AddressAddress2New',\n      suburb: 'AddressAddress2New',\n      city: 'AddressCityNew',\n      region: 'AddressProvinceNew',\n      postcode: 'AddressZipNew',\n    },\n    regionMappings: defaultRegionMappings\n  },\n  au: {\n    countryValue: \"Australia\",\n    elements: {\n      address1: 'AddressAddress1New',\n      address2: 'AddressAddress2New',\n      suburb: 'AddressCityNew',\n      state: 'AddressProvinceNew',\n      postcode: 'AddressZipNew',\n    },\n    stateMappings: null\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/user_registration_new_address.js","import BillingCheckout from './address_form_config/billing_checkout'\nimport ShippingCheckout from './address_form_config/shipping_checkout'\nimport userRegistrationNewAddress from './address_form_config/user_registration_new_address'\nimport dynamicFormConfig from './address_form_config/dynamic_edit_address'\nimport defaultRegionMappings from './address_form_config/default_region_mappings'\n\nexport default class ConfigManager {\n\n   load() {\n    let dynamicForms = this.generateDynamicForms()\n\n    const addressFormConfigurations = [\n      BillingCheckout,\n      ShippingCheckout,\n      userRegistrationNewAddress,\n      ...dynamicForms\n    ]\n\n    return addressFormConfigurations\n  }\n\n  generateDynamicForms() {\n    let dynamicForms = []\n    let identifyingElements = document.querySelectorAll(`[id^=\"${dynamicFormConfig.layoutSelector}\"]`)\n  \n    identifyingElements.forEach((identifyingElement, index) => {\n      dynamicForms.push(this._configureDynamicForm(identifyingElement, index))\n    })\n\n    return dynamicForms\n  }\n  \n  _configureDynamicForm(identifyingElement, index) {\n    if (identifyingElement) {\n      var id = identifyingElement['id'].split('_')[1]\n       var formConfig = {\n        label: `Edit Address Form ${index}`,\n        layoutSelector: `#EditAddress_${id}`,\n        countryIdentifier: `AddressCountry_${id}`,\n        searchIdentifier: `AddressAddress1_${id}`,\n        nz: {\n          countryValue: \"New Zealand\",\n          elements: {\n            address1and2: `AddressAddress1_${id}`,\n            address1: null,\n            address2: null,\n            suburb: `AddressAddress2_${id}`,\n            city: `AddressCity_${id}`,\n            region: `AddressProvince_${id}`,\n            postcode: `AddressZip_${id}`,\n          },\n          regionMappings: defaultRegionMappings\n        },\n        au: {\n          countryValue: \"Australia\",\n          elements: {\n            address1and2: null,\n            address1: `AddressAddress1_${id}`,\n            address2: `AddressAddress2_${id}`,\n            suburb: `AddressCity_${id}`,\n            state: `AddressProvince_${id}`,\n            postcode: `AddressZip_${id}`,\n          },\n          stateMappings: null\n        }\n      }\n      return formConfig\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config_manager.js","\nexport default {\n  layoutSelector: \"EditAddress\",\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/dynamic_edit_address.js","import defaultRegionMappings from './default_region_mappings'\n\nexport default {\n  label: \"Standard Billing Checkout\",\n  layoutSelector: \"#section--billing-address__different\",\n  countryIdentifier: 'checkout_billing_address_country',\n  searchIdentifier: \"checkout_billing_address_address1\",\n  nz: {\n    countryValue: \"New Zealand\",\n    elements: {\n      address1: 'checkout_billing_address_address1',\n      address2: 'checkout_billing_address_address2',\n      suburb: null,\n      city: 'checkout_billing_address_city',\n      region: 'checkout_billing_address_province',\n      postcode: 'checkout_billing_address_zip',\n    },\n    regionMappings: defaultRegionMappings\n  },\n  au: {\n    countryValue: \"Australia\",\n    elements: {\n      address1: 'checkout_billing_address_address1',\n      address2: 'checkout_billing_address_address2',\n      suburb: 'checkout_billing_address_city',\n      state: 'checkout_billing_address_province',\n      postcode: 'checkout_billing_address_zip',\n    },\n    stateMappings: null\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/billing_checkout.js","import defaultRegionMappings from './default_region_mappings'\n\nexport default {\n  label: \"Standard Shipping Checkout\",\n  layoutSelector: \".section--shipping-address\",\n  countryIdentifier: 'checkout_shipping_address_country',\n  searchIdentifier: \"checkout_shipping_address_address1\",\n  nz: {\n    countryValue: \"New Zealand\",\n    elements: {\n      address1: 'checkout_shipping_address_address1',\n      address2: 'checkout_shipping_address_address2',\n      suburb: null,\n      city: 'checkout_shipping_address_city',\n      region: 'checkout_shipping_address_province',\n      postcode: 'checkout_shipping_address_zip',\n    },\n    regionMappings: defaultRegionMappings\n  },\n  au: {\n    countryValue: \"Australia\",\n    elements: {\n      address1: 'checkout_shipping_address_address1',\n      address2: 'checkout_shipping_address_address2',\n      suburb: 'checkout_shipping_address_city',\n      state: 'checkout_shipping_address_province',\n      postcode: 'checkout_shipping_address_zip',\n    },\n    stateMappings: null\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/shipping_checkout.js","import FormManager from \"./form_manager\"\n\nexport default class PageManager {\n  constructor({addressFormConfigurations, widgetConfig, eventToDispatch}) {\n    this.formHelpers = []\n    this.addressFormConfigurations = addressFormConfigurations\n    this.widgetConfig = widgetConfig\n    this.eventToDispatch = eventToDispatch\n\n    this.reload = this.reload.bind(this)\n\n    this.loadFormHelpers()\n  }\n\n  reload(addressFormConfigurations) {\n    this.addressFormConfigurations = addressFormConfigurations\n    this.loadFormHelpers()\n  }\n\n  loadFormHelpers() {\n    this.formHelpers.forEach(formHelper => formHelper.destroy())\n    this.identifiedAddressFormConfigurations = []\n    this.formHelpers = []\n    \n    this._identifyAddressForms()\n    this.identifiedAddressFormConfigurations.forEach(this._initialiseFormHelper.bind(this))\n  }\n\n  _identifyAddressForms(){\n    for (const addressFormConfig of this.addressFormConfigurations) {\n      let identifyingElement = document.querySelector(addressFormConfig.layoutSelector)\n\n      if (identifyingElement) {\n        this.log(`Identified layout named: ${addressFormConfig.label}`)\n\n        this.identifiedAddressFormConfigurations.push(addressFormConfig)\n      }\n    }\n  }\n\n  _initialiseFormHelper(addressFormConfig){\n    let searchElement = document.getElementById(addressFormConfig.searchIdentifier) \n\n    if (searchElement) {\n      let formHelperConfig = {\n        countryElement: document.getElementById(addressFormConfig.countryIdentifier),\n        searchElement: document.getElementById(addressFormConfig.searchIdentifier),\n        label: addressFormConfig.label,\n        layoutSelector: addressFormConfig.layoutSelector,\n        nz: {\n          countryValue: addressFormConfig.nz.countryValue,\n          elements: {\n            address_line_1: document.getElementById(addressFormConfig.nz.elements.address1),\n            address_line_2: document.getElementById(addressFormConfig.nz.elements.address2),\n            suburb: document.getElementById(addressFormConfig.nz.elements.suburb),\n            city: document.getElementById(addressFormConfig.nz.elements.city),\n            region: document.getElementById(addressFormConfig.nz.elements.region),\n            postcode: document.getElementById(addressFormConfig.nz.elements.postcode)\n          },\n          regionMappings: addressFormConfig.nz.regionMappings\n        },\n        au: {\n          countryValue: addressFormConfig.au.countryValue,\n          elements: {\n            address_line_1: document.getElementById(addressFormConfig.au.elements.address1),\n            address_line_2: document.getElementById(addressFormConfig.au.elements.address2),\n            locality_name: document.getElementById(addressFormConfig.au.elements.suburb),\n            city: null,\n            state_territory: document.getElementById(addressFormConfig.au.elements.state),\n            postcode: document.getElementById(addressFormConfig.au.elements.postcode)\n          },\n          stateMappings: addressFormConfig.au.stateMappings\n        }\n      }\n\n      let helper = new FormManager(this.widgetConfig, formHelperConfig, this.eventToDispatch)\n      this.formHelpers.push(helper)\n    }\n  }\n\n  log(message, data=undefined){\n    if (this.widgetConfig.debug && window.console) {\n      if (data != undefined) {\n        console.log(`${message}`, data)\n      }\n      else {\n        console.log(`${message}`)\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/page_manager.js","export default class MutationManager {\n  constructor({mutationEventHandler, ignoredClass}) {\n    this.mutationEventHandler = mutationEventHandler\n    // Mutation events emitted by elements with this class are ignored.\n    this.ignoredClass = ignoredClass\n    this.monitorMutations()\n  }\n\n  monitorMutations(){\n    if (window.MutationObserver) {\n      /* for modern browsers */\n      var observer = new MutationObserver(this._mutationHandler.bind(this));\n      observer.observe(document.body, {childList: true, subtree: true});\n\n    } else if (window.addEventListener) {\n      /* for IE 9 and 10 */\n      document.body.addEventListener('DOMNodeInserted', this._domNodeModifiedHandler.bind(this), false);\n      document.body.addEventListener('DOMNodeRemoved', this._domNodeModifiedHandler.bind(this), false);\n    } else {\n        if (window.console) {\n          console.info('AddressFinder Error - please use a more modern browser')\n        }\n    }\n  }\n\n  _mutationHandler(mutations){\n    const changedNodes = mutations.reduce((nodes, mutation) => {\n      // ignore this mutation if the target is the AddressFinder UL element\n      if (mutation.target && mutation.target.classList && mutation.target.classList.contains(this.ignoredClass)) {\n        return nodes\n      }\n\n      return nodes.concat([...mutation.addedNodes]).concat([...mutation.removedNodes])\n    }, [])\n\n    const anyBigCommerceChanges = changedNodes.find((node) => {\n      return !(node.classList && node.classList.contains(this.ignoredClass))\n    })\n\n    if (!anyBigCommerceChanges) {\n      return // ignore AddressFinder changes\n    }\n\n    this._setMutationTimeout()\n  }\n\n  _domNodeModifiedHandler(event){\n    if ((event.target.className && event.target.className.includes(this.ignoredClass)) ||\n        (event.relatedNode && event.relatedNode.className && event.relatedNode.className.includes(this.ignoredClass))) {\n        return // ignore AddressFinder changes\n    }\n\n    _setMutationTimeout()\n  }\n\n  _setMutationTimeout() {\n    if (this._mutationTimeout) {\n      clearTimeout(this._mutationTimeout) // reset previous timeout\n    }\n\n    // ignore any further changes for the next 750 mS\n    this._mutationTimeout = setTimeout(this.mutationEventHandler, 750)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mutation_manager.js","export default class FormManager {\n  constructor(widgetConfig, formHelperConfig, eventToDispatch){\n    this.widgetConfig = widgetConfig\n    this.formHelperConfig = formHelperConfig\n    this.eventToDispatch = eventToDispatch\n    this.widgets = {}\n    this.countryCodes = [\"au\", \"nz\"]\n\n    this._bindToForm()\n  }\n\n  // Shuts down this form_helper by disabling the widget and any callback handlers.\n  destroy(){\n    this._log(\"Destroying widget\", this.formHelperConfig.label)\n\n    for (var widgetCountryCode in this.widgets) {\n      this.widgets[widgetCountryCode].disable()\n      this.widgets[widgetCountryCode].destroy()\n    }\n\n    this.widgets = null\n\n    this.formHelperConfig.countryElement.removeEventListener(\"change\", this.boundCountryChangedListener)\n  }\n\n  _bindToForm(){\n    this.boundCountryChangedListener = this._countryChanged.bind(this) // save this so we can unbind in the destroy() method\n    this.formHelperConfig.countryElement.addEventListener(\"change\", this.boundCountryChangedListener);\n\n    let nzWidget = new window.AddressFinder.Widget(this.formHelperConfig.searchElement, this.widgetConfig.nzKey, \"nz\", this.widgetConfig.nzWidgetOptions);\n    nzWidget.on(\"result:select\", this._nzAddressSelected.bind(this))\n    this.widgets[\"nz\"] = nzWidget\n\n    let auWidget = new window.AddressFinder.Widget(this.formHelperConfig.searchElement, this.widgetConfig.auKey, \"au\", this.widgetConfig.auWidgetOptions);\n    auWidget.on(\"result:select\", this._auAddressSelected.bind(this))\n    this.widgets[\"au\"] = auWidget\n\n    this.widgets[\"null\"] = {\n      enable: function(){},\n      disable: function(){},\n      destroy: function(){}\n    }\n\n    this._countryChanged(null, true)\n  }\n\n  _countryChanged(event, preserveValues){\n    var activeCountry;\n    switch (this.formHelperConfig.countryElement.value) {\n      case this.formHelperConfig.nz.countryValue:\n      activeCountry = \"nz\"\n      break;\n    case this.formHelperConfig.au.countryValue:\n      activeCountry = \"au\"\n      break;\n    default:\n      activeCountry = \"null\";\n    }\n\n    this._setActiveCountry(activeCountry)\n    if(!preserveValues) {\n      const isInactiveCountry = countryCode => countryCode != activeCountry\n      this.countryCodes.filter(isInactiveCountry)\n                       .forEach(this._clearElementValues.bind(this))\n    }\n  }\n\n  _clearElementValues(countryCode){\n    const elements = this.formHelperConfig[countryCode].elements\n    Object.entries(elements).forEach(([name, element]) => {\n      if (element) this._setElementValue(element, \"\", name);\n    })\n  }\n\n  _setActiveCountry(countryCode){\n    this._log(\"Setting active country\", countryCode)\n\n    Object.values(this.widgets).forEach(widget => widget.disable())\n    this.widgets[countryCode].enable()\n  }\n\n  _combineAddressElements(elements) {\n    const addressIsPresent = element => element != null && element != \"\"\n    const combined = elements.filter(addressIsPresent)\n    return combined.length > 1 ? combined.join(\", \") : combined[0]\n  }\n\n  _nzAddressSelected(fullAddress, metaData){\n    let elements = this.formHelperConfig.nz.elements\n    let selected = new AddressFinder.NZSelectedAddress(fullAddress, metaData);\n\n    if (!elements.address_line_2 && !elements.suburb) {\n      const combined = this._combineAddressElements([selected.address_line_1_and_2(), selected.suburb()])\n      this._setElementValue(elements.address_line_1, combined, \"address_line_1\")\n    } else if (!elements.address_line_2 && elements.suburb) {\n      this._setElementValue(elements.address_line_1, selected.address_line_1_and_2(), \"address_line_1\")\n      this._setElementValue(elements.suburb, selected.suburb(), \"suburb\")\n    } else {\n      this._setElementValue(elements.address_line_1, selected.address_line_1(), \"address_line_1\")\n      this._setElementValue(elements.address_line_2, selected.address_line_2(), \"address_line_2\")\n      this._setElementValue(elements.suburb, selected.suburb(), \"suburb\")\n    }\n\n    this._setElementValue(elements.city, selected.city(), \"city\")\n    this._setElementValue(elements.postcode, selected.postcode(), \"postcode\")\n\n    if (this.formHelperConfig.nz.regionMappings) {\n      const translatedRegionValue = this.formHelperConfig.nz.regionMappings[metaData.region]\n      this._setElementValue(elements.region, translatedRegionValue, \"region\")\n    }\n    else {\n      this._setElementValue(elements.region, metaData.region, \"region\")\n    }\n  }\n\n  _auAddressSelected(fullAddress, metaData){\n    let elements = this.formHelperConfig.au.elements\n\n    if (!elements.address_line_2) {\n      const combined = this._combineAddressElements([metaData.address_line_1, metaData.address_line_2])\n      this._setElementValue(elements.address_line_1, combined, \"address_line_1\")\n    } else {\n      this._setElementValue(elements.address_line_1, metaData.address_line_1, \"address_line_1\")\n      const address_line_2 = metaData.address_line_2 || \"\"\n      this._setElementValue(elements.address_line_2, address_line_2, \"address_line_2\")\n    }\n\n    this._setElementValue(elements.locality_name, metaData.locality_name, \"suburb\")\n    this._setElementValue(elements.postcode, metaData.postcode, \"postcode\")\n\n    if (this.formHelperConfig.au.stateMappings) {\n      const translatedStateValue = this.formHelperConfig.au.stateMappings[metaData.state_territory]\n      this._setElementValue(elements.state_territory, translatedStateValue, \"state_territory\")\n    }\n    else {\n      this._setElementValue(elements.state_territory, metaData.state_territory, \"state_territory\")\n    }\n  }\n\n  _setElementValue(element, value, elementName){\n    if (!element) {\n      var errorMessage = 'AddressFinder Error: '\n                         + 'Attempted to update value for element that could not be found.\\n'\n                         + '\\nElement: ' + elementName\n                         + '\\nValue: ' + value;\n\n      if (window.console) {\n        console.warn(errorMessage);\n      }\n\n      return\n    }\n\n    element.value = value;\n    this._dispatchChangeEvent(element)\n  }\n\n  _dispatchChangeEvent(element) {\n    var event;\n    switch (typeof (Event)) {\n    case 'function':\n      event = new Event(this.eventToDispatch, {'bubbles':true, \"cancelable\": false});\n      break;\n    default:\n      event = document.createEvent('Event');\n      event.initEvent(this.eventToDispatch, true, false);\n    }\n    element.dispatchEvent(event);\n  }\n\n  _log(message, data=undefined){\n    if (this.widgetConfig.debug && window.console) {\n      if (data != undefined) {\n        console.log(`FormHelper for layout ${this.formHelperConfig.label}: ${message}`, data)\n      }\n      else {\n        console.log(`FormHelper for layout ${this.formHelperConfig.label}: ${message}`)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/form_manager.js"],"sourceRoot":""}