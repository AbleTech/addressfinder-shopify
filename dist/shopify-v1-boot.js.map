{"version":3,"sources":["webpack:///webpack/bootstrap fb3e04bc6c4d123a3f1d","webpack:///./src/shopify_plugin.js","webpack:///./src/address_form_config/standard_billing_checkout.js","webpack:///./src/address_form_config/standard_shipping_checkout.js","webpack:///./src/plugin_manager.js","webpack:///./src/form_helper.js","webpack:///./src/mutation_helper.js","webpack:///./src/address_form_config/default_region_mappings.js","webpack:///./src/address_form_config/default_state_mappings.js","webpack:///./src/address_form_config/user_registration_new_address.js","webpack:///./src/address_form_config/user_registration_edit_address.js"],"names":["window","AF","_configureDynamicForms","dynamicFormConfig","dynamicForms","identifyingElements","document","querySelectorAll","layoutSelector","forEach","identifyingElement","push","configureDynamicForm","console","log","id","split","formConfig","label","countryIdentifier","searchIdentifier","nz","countryValue","elements","address1and2","address1","address2","suburb","city","region","postcode","regionMappings","au","state","stateMappings","_initPlugin","_disableGoogleAutocomplete","addressFormConfigurations","standardBillingCheckout","standardShippingCheckout","userRegistrationNewAddress","widgetConfig","nzKey","AddressFinderPlugin","key","auKey","nzWidgetOptions","widgetOptions","auWidgetOptions","debug","_shopifyPlugin","PluginManager","eventToDispatch","repetitions","iframe","querySelector","src","setTimeout","_addScript","s","createElement","async","onload","body","appendChild","loadAF","Widget","defaultRegionMappings","defaultStateMappings","formHelpers","loadFormHelpers","MutationHelper","mutationEventHandler","bind","ignoredClass","formHelper","destroy","identifiedAddressFormConfigurations","_identifyAddressForms","_initialiseFormHelper","addressFormConfig","searchElement","formHelperConfig","countryElement","address_line_1_and_2","address_line_1","address_line_2","locality_name","state_territory","helper","FormHelper","message","data","undefined","widgets","countryCodes","_bindToForm","_log","widgetCountryCode","disable","removeEventListener","boundCountryChangedListener","_countryChanged","addEventListener","nzWidget","AddressFinder","on","_nzAddressSelected","auWidget","_auAddressSelected","enable","event","preserveValues","activeCountry","value","_setActiveCountry","isInactiveCountry","countryCode","filter","_clearElementValues","Object","entries","name","element","_setElementValue","values","widget","fullAddress","metaData","selected","NZSelectedAddress","addressIsPresent","array","combined","join","translatedRegionValue","translatedStateValue","elementName","errorMessage","warn","_dispatchChangeEvent","Event","createEvent","initEvent","dispatchEvent","MutationsHelper","monitorMutations","MutationObserver","observer","_mutationHandler","observe","childList","subtree","_domNodeModifiedHandler","info","mutations","changedNodes","reduce","nodes","mutation","target","classList","contains","concat","addedNodes","removedNodes","anyBigCommerceChanges","find","node","_setMutationTimeout","className","includes","relatedNode","_mutationTimeout","clearTimeout","dynamic"],"mappings":"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","file":"shopify-v1-boot.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fb3e04bc6c4d123a3f1d","import standardBillingCheckout from './address_form_config/standard_billing_checkout'\nimport standardShippingCheckout from './address_form_config/standard_shipping_checkout'\nimport userRegistrationNewAddress from './address_form_config/user_registration_new_address'\nimport dynamicFormConfig from './address_form_config/user_registration_edit_address'\nimport PluginManager from \"./plugin_manager\";\n\nwindow.AF = window.AF || {}\n\n\n\nfunction _configureDynamicForms(dynamicFormConfig) {\n  let dynamicForms = []\n  let identifyingElements = document.querySelectorAll(`[id^=\"${dynamicFormConfig.layoutSelector}\"]`)\n\n  identifyingElements.forEach((identifyingElement) => {\n    dynamicForms.push(configureDynamicForm(identifyingElement))\n  })\n\n\n  debugger\n  return dynamicForms\n}\n\nfunction configureDynamicForm(identifyingElement) {\n  console.log('configureDynamicForm')\n  if (identifyingElement) {\n    var id = identifyingElement['id'].split('_')[1]\n     var formConfig = {\n      label: \"Edit Address Form\",\n      layoutSelector: `EditAddress_${id}`,\n      countryIdentifier: `#AddressCountry_${id}`,\n      searchIdentifier: `#AddressAddress1_${id}`,\n      nz: {\n        countryValue: \"New Zealand\",\n        elements: {\n          address1and2: `#AddressAddress1_${id}`,\n          address1: null,\n          address2: null,\n          suburb: `#AddressAddress2_${id}`,\n          city: `#AddressCity_${id}`,\n          region: `#AddressProvince_${id}`,\n          postcode: `#AddressZip_${id}`,\n        },\n        regionMappings: null\n      },\n      au: {\n        countryValue: \"Australia\",\n        elements: {\n          address1and2: null,\n          address1: `#AddressAddress1_${id}`,\n          address2: `#AddressAddress2_${id}`,\n          suburb: `#AddressCity_${id}`,\n          state: `#AddressProvince_${id}`,\n          postcode: `#AddressZip_${id}`,\n        },\n        stateMappings: null\n      }\n    }\n    return formConfig\n  }\n}\n\n\n\n\nlet _initPlugin = function(){\n\n  _disableGoogleAutocomplete(5);\n  let dynamicForms = _configureDynamicForms(dynamicFormConfig)\n\n  const addressFormConfigurations = [\n    standardBillingCheckout,\n    standardShippingCheckout,\n    userRegistrationNewAddress,\n    ...dynamicForms\n  ]\n\n  console.log(dynamicForms)\n\n  const widgetConfig = {\n    nzKey: window.AddressFinderPlugin.key,\n    auKey: window.AddressFinderPlugin.key,\n    nzWidgetOptions: window.AddressFinderPlugin.nzWidgetOptions || window.AddressFinderPlugin.widgetOptions || {},\n    auWidgetOptions: window.AddressFinderPlugin.auWidgetOptions || window.AddressFinderPlugin.widgetOptions || {},\n    debug: window.AddressFinderPlugin.debug || false\n  }\n\n  window.AF._shopifyPlugin = new PluginManager({\n    addressFormConfigurations,\n    widgetConfig,\n    eventToDispatch: 'input' \n  })\n}\n\nlet _disableGoogleAutocomplete = function(repetitions) {\n  var iframe = document.querySelector('#google-autocomplete-iframe, #autocomplete-service-iframe');\n\n  if (iframe) {\n    iframe.src = '';\n  }\n\n  if (repetitions > 0) {\n    setTimeout(_disableGoogleAutocomplete, 1000, repetitions - 1);\n  }\n}\n\nfunction _addScript() {\n  var s = document.createElement('script');\n  s.src = 'https://api.addressfinder.io/assets/v3/widget.js';\n  s.async = 1;\n  s.onload = _initPlugin;\n  document.body.appendChild(s);\n}\n\nfunction loadAF(){\n  if ( window.AF && window.AF.Widget ) {\n    _initPlugin();\n  } else {\n    _addScript();\n  }\n};\n\nloadAF()\n\n\n// WEBPACK FOOTER //\n// ./src/shopify_plugin.js","import defaultRegionMappings from './default_region_mappings'\nimport defaultStateMappings from './default_state_mappings'\n\nexport default {\n  label: \"Standard Billing Checkout\",\n  layoutSelector: \"#section--billing-address__different\",\n  countryIdentifier: '#checkout_billing_address_country',\n  searchIdentifier: \"#checkout_billing_address_address1\",\n  nz: {\n    countryValue: \"New Zealand\",\n    elements: {\n      address1and2: '#checkout_billing_address_address1',\n      address1: null,\n      address2: null,\n      suburb: null,\n      city: '#checkout_billing_address_city',\n      region: '#checkout_billing_address_province',\n      postcode: '#checkout_billing_address_zip',\n    },\n    regionMappings: defaultRegionMappings\n  },\n  au: {\n    countryValue: \"Australia\",\n    elements: {\n      address1and2: '#checkout_billing_address_address1',\n      address1: null,\n      address2: null,\n      suburb: '#checkout_billing_address_city',\n      state: '#checkout_billing_address_province',\n      postcode: '#checkout_billing_address_zip',\n    },\n    stateMappings: defaultStateMappings\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/standard_billing_checkout.js","import defaultRegionMappings from './default_region_mappings'\nimport defaultStateMappings from './default_state_mappings'\n\nexport default {\n  label: \"Standard Shipping Checkout\",\n  layoutSelector: \".section--shipping-address\",\n  countryIdentifier: '#checkout_shipping_address_country',\n  searchIdentifier: \"#checkout_shipping_address_address1\",\n  nz: {\n    countryValue: \"New Zealand\",\n    elements: {\n      address1and2: '#checkout_shipping_address_address1',\n      address1: null,\n      address2: null,\n      suburb: null,\n      city: '#checkout_shipping_address_city',\n      region: '#checkout_shipping_address_province',\n      postcode: '#checkout_shipping_address_zip',\n    },\n    regionMappings: defaultRegionMappings\n  },\n  au: {\n    countryValue: \"Australia\",\n    elements: {\n      address1and2: '#checkout_shipping_address_address1',\n      address1: null,\n      address2: null,\n      suburb: '#checkout_shipping_address_city',\n      state: '#checkout_shipping_address_province',\n      postcode: '#checkout_shipping_address_zip',\n    },\n    stateMappings: defaultStateMappings\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/standard_shipping_checkout.js","import FormHelper from \"./form_helper\"\nimport MutationHelper from \"./mutation_helper\"\n\nexport default class PluginManager {\n  constructor({addressFormConfigurations, widgetConfig, eventToDispatch}) {\n    this.formHelpers = []\n    this.addressFormConfigurations = addressFormConfigurations\n    this.widgetConfig = widgetConfig\n    this.eventToDispatch = eventToDispatch\n    this.loadFormHelpers()\n\n    new MutationHelper({\n      mutationEventHandler: this.loadFormHelpers.bind(this),\n      ignoredClass: \"af_list\"\n    })\n  }\n\n  loadFormHelpers() {\n    this.formHelpers.forEach(formHelper => formHelper.destroy())\n    this.identifiedAddressFormConfigurations = []\n    this.formHelpers = []\n    \n    this._identifyAddressForms()\n\n    console.log('loading form helpers')\n    this.identifiedAddressFormConfigurations.forEach(this._initialiseFormHelper.bind(this))\n  }\n\n  _identifyAddressForms(){\n    for (const addressFormConfig of this.addressFormConfigurations) {\n      let identifyingElement = document.querySelector(`[id^=\"${addressFormConfig.layoutSelector}\"]`)\n\n      if (identifyingElement) {\n        this.log(`Identified layout named: ${addressFormConfig.label}`)\n\n        this.identifiedAddressFormConfigurations.push(addressFormConfig)\n      }\n    }\n  }\n\n  _initialiseFormHelper(addressFormConfig){\n    console.log('init', addressFormConfig)\n    let searchElement = document.querySelector(addressFormConfig.searchIdentifier) \n\n    if (searchElement) {\n      let formHelperConfig = {\n        countryElement: document.querySelector(addressFormConfig.countryIdentifier),\n        searchElement: document.querySelector(addressFormConfig.searchIdentifier),\n        label: addressFormConfig.label,\n        layoutSelector: addressFormConfig.layoutSelector,\n        nz: {\n          countryValue: addressFormConfig.nz.countryValue,\n          elements: {\n            address_line_1_and_2: document.querySelector(addressFormConfig.nz.elements.address1and2),\n            address_line_1: document.querySelector(addressFormConfig.nz.elements.address1),\n            address_line_2: document.querySelector(addressFormConfig.nz.elements.address2),\n            suburb: document.querySelector(addressFormConfig.nz.elements.suburb),\n            city: document.querySelector(addressFormConfig.nz.elements.city),\n            region: document.querySelector(addressFormConfig.nz.elements.region),\n            postcode: document.querySelector(addressFormConfig.nz.elements.postcode)\n          },\n          regionMappings: addressFormConfig.nz.regionMappings\n        },\n        au: {\n          countryValue: addressFormConfig.au.countryValue,\n          elements: {\n            address_line_1_and_2: document.querySelector(addressFormConfig.au.elements.address1and2),\n            address_line_1: document.querySelector(addressFormConfig.au.elements.address1),\n            address_line_2: document.querySelector(addressFormConfig.au.elements.address2),\n            locality_name: document.querySelector(addressFormConfig.au.elements.suburb),\n            city: null,\n            state_territory: document.querySelector(addressFormConfig.au.elements.state),\n            postcode: document.querySelector(addressFormConfig.au.elements.postcode)\n          },\n          stateMappings: addressFormConfig.au.stateMappings\n        }\n      }\n\n      let helper = new FormHelper(this.widgetConfig, formHelperConfig, this.eventToDispatch)\n      this.formHelpers.push(helper)\n    }\n  }\n\n  log(message, data=undefined){\n    if (this.widgetConfig.debug && window.console) {\n      if (data != undefined) {\n        console.log(`${message}`, data)\n      }\n      else {\n        console.log(`${message}`)\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/plugin_manager.js","export default class FormHelper {\n  constructor(widgetConfig, formHelperConfig, eventToDispatch){\n    this.widgetConfig = widgetConfig\n    this.formHelperConfig = formHelperConfig\n    this.eventToDispatch = eventToDispatch\n    this.widgets = {}\n    this.countryCodes = [\"au\", \"nz\"]\n\n    this._bindToForm()\n  }\n\n  // Shuts down this form_helper by disabling the widget and any callback handlers.\n  destroy(){\n    this._log(\"Destroying widget\", this.formHelperConfig.label)\n\n    for (var widgetCountryCode in this.widgets) {\n      this.widgets[widgetCountryCode].disable()\n      this.widgets[widgetCountryCode].destroy()\n    }\n\n    this.widgets = null\n\n    this.formHelperConfig.countryElement.removeEventListener(\"change\", this.boundCountryChangedListener)\n  }\n\n  _bindToForm(){\n    this.boundCountryChangedListener = this._countryChanged.bind(this) // save this so we can unbind in the destroy() method\n    this.formHelperConfig.countryElement.addEventListener(\"change\", this.boundCountryChangedListener);\n\n    let nzWidget = new window.AddressFinder.Widget(this.formHelperConfig.searchElement, this.widgetConfig.nzKey, \"nz\", this.widgetConfig.nzWidgetOptions);\n    nzWidget.on(\"result:select\", this._nzAddressSelected.bind(this))\n    this.widgets[\"nz\"] = nzWidget\n\n    let auWidget = new window.AddressFinder.Widget(this.formHelperConfig.searchElement, this.widgetConfig.auKey, \"au\", this.widgetConfig.auWidgetOptions);\n    auWidget.on(\"result:select\", this._auAddressSelected.bind(this))\n    this.widgets[\"au\"] = auWidget\n\n    this.widgets[\"null\"] = {\n      enable: function(){},\n      disable: function(){},\n      destroy: function(){}\n    }\n\n    this._countryChanged(null, true)\n  }\n\n  _countryChanged(event, preserveValues){\n    var activeCountry;\n    switch (this.formHelperConfig.countryElement.value) {\n      case this.formHelperConfig.nz.countryValue:\n      activeCountry = \"nz\"\n      break;\n    case this.formHelperConfig.au.countryValue:\n      activeCountry = \"au\"\n      break;\n    default:\n      activeCountry = \"null\";\n    }\n\n    this._setActiveCountry(activeCountry)\n    if(!preserveValues) {\n      const isInactiveCountry = countryCode => countryCode != activeCountry\n      this.countryCodes.filter(isInactiveCountry)\n                       .forEach(this._clearElementValues.bind(this))\n    }\n  }\n\n  _clearElementValues(countryCode){\n    const elements = this.formHelperConfig[countryCode].elements\n    Object.entries(elements).forEach(([name, element]) => {\n      if (element) this._setElementValue(element, \"\", name);\n    })\n  }\n\n  _setActiveCountry(countryCode){\n    this._log(\"Setting active country\", countryCode)\n\n    Object.values(this.widgets).forEach(widget => widget.disable())\n    this.widgets[countryCode].enable()\n  }\n\n  _nzAddressSelected(fullAddress, metaData){\n    let elements = this.formHelperConfig.nz.elements\n    let selected = new AddressFinder.NZSelectedAddress(fullAddress, metaData);\n\n    if (elements.address_line_1_and_2 && !elements.suburb) {\n      const addressIsPresent = array => array != null\n      const combined = [selected.address_line_1_and_2(), selected.suburb()].filter(addressIsPresent).join(\", \")\n      this._setElementValue(elements.address_line_1_and_2, combined, \"address_line_1_and_2\")\n    } else if (elements.address_line_1_and_2 && elements.suburb) {\n      this._setElementValue(elements.address_line_1_and_2, selected.address_line_1_and_2(), \"address_line_1_and_2\")\n      this._setElementValue(elements.suburb, selected.suburb(), \"suburb\")\n    } else {\n      this._setElementValue(elements.address_line_1, selected.address_line_1(), \"address_line_1\")\n      this._setElementValue(elements.address_line_2, selected.address_line_2(), \"address_line_2\")\n      this._setElementValue(elements.suburb, selected.suburb(), \"suburb\")\n    }\n\n    this._setElementValue(elements.city, selected.city(), \"city\")\n    this._setElementValue(elements.postcode, selected.postcode(), \"postcode\")\n\n    if (this.formHelperConfig.nz.regionMappings) {\n      const translatedRegionValue = this.formHelperConfig.nz.regionMappings[metaData.region]\n      this._setElementValue(elements.region, translatedRegionValue, \"region\")\n    }\n    else {\n      this._setElementValue(elements.region, metaData.region, \"region\")\n    }\n  }\n\n  _auAddressSelected(fullAddress, metaData){\n    let elements = this.formHelperConfig.au.elements\n\n    if(elements.address_line_1_and_2){\n      const addressIsPresent = array => array != null\n      const combined = [metaData.address_line_1, metaData.address_line_2].filter(addressIsPresent).join(\", \")\n      this._setElementValue(elements.address_line_1_and_2, combined, \"address_line_1_and_2\")\n    }\n    else {\n      this._setElementValue(elements.address_line_1, metaData.address_line_1, \"address_line_1\")\n      const address_line_2 = metaData.address_line_2 || \"\"\n      this._setElementValue(elements.address_line_2, address_line_2, \"address_line_2\")\n    }\n\n    this._setElementValue(elements.locality_name, metaData.locality_name, \"suburb\")\n    this._setElementValue(elements.postcode, metaData.postcode, \"postcode\")\n\n    if (this.formHelperConfig.au.stateMappings) {\n      const translatedStateValue = this.formHelperConfig.au.stateMappings[metaData.state_territory]\n      this._setElementValue(elements.state_territory, translatedStateValue, \"state_territory\")\n    }\n    else {\n      this._setElementValue(elements.state_territory, metaData.state_territory, \"state_territory\")\n    }\n  }\n\n  _setElementValue(element, value, elementName){\n    if (!element) {\n      var errorMessage = 'AddressFinder Error: '\n                         + 'Attempted to update value for element that could not be found.\\n'\n                         + '\\nElement: ' + elementName\n                         + '\\nValue: ' + value;\n\n      if (window.console) {\n        console.warn(errorMessage);\n      }\n\n      return\n    }\n\n    element.value = value;\n    this._dispatchChangeEvent(element)\n  }\n\n  _dispatchChangeEvent(element) {\n    var event;\n    switch (typeof (Event)) {\n    case 'function':\n      event = new Event(this.eventToDispatch, {'bubbles':true, \"cancelable\": false});\n      break;\n    default:\n      event = document.createEvent('Event');\n      event.initEvent(this.eventToDispatch, true, false);\n    }\n    element.dispatchEvent(event);\n  }\n\n  _log(message, data=undefined){\n    if (this.widgetConfig.debug && window.console) {\n      if (data != undefined) {\n        console.log(`FormHelper for layout ${this.formHelperConfig.label}: ${message}`, data)\n      }\n      else {\n        console.log(`FormHelper for layout ${this.formHelperConfig.label}: ${message}`)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/form_helper.js","export default class MutationsHelper {\n  constructor({mutationEventHandler, ignoredClass}) {\n    this.mutationEventHandler = mutationEventHandler\n    // Mutation events emitted by elements with this class are ignored.\n    this.ignoredClass = ignoredClass\n    this.monitorMutations()\n  }\n\n  monitorMutations(){\n    if (window.MutationObserver) {\n      /* for modern browsers */\n      var observer = new MutationObserver(this._mutationHandler.bind(this));\n      observer.observe(document.body, {childList: true, subtree: true});\n\n    } else if (window.addEventListener) {\n      /* for IE 9 and 10 */\n      document.body.addEventListener('DOMNodeInserted', this._domNodeModifiedHandler.bind(this), false);\n      document.body.addEventListener('DOMNodeRemoved', this._domNodeModifiedHandler.bind(this), false);\n    } else {\n        if (window.console) {\n          console.info('AddressFinder Error - please use a more modern browser')\n        }\n    }\n  }\n\n  _mutationHandler(mutations){\n    const changedNodes = mutations.reduce((nodes, mutation) => {\n      // ignore this mutation if the target is the AddressFinder UL element\n      if (mutation.target && mutation.target.classList && mutation.target.classList.contains(this.ignoredClass)) {\n        return nodes\n      }\n\n      return nodes.concat([...mutation.addedNodes]).concat([...mutation.removedNodes])\n    }, [])\n\n    const anyBigCommerceChanges = changedNodes.find((node) => {\n      return !(node.classList && node.classList.contains(this.ignoredClass))\n    })\n\n    if (!anyBigCommerceChanges) {\n      return // ignore AddressFinder changes\n    }\n\n    this._setMutationTimeout()\n  }\n\n  _domNodeModifiedHandler(event){\n    if ((event.target.className && event.target.className.includes(this.ignoredClass)) ||\n        (event.relatedNode && event.relatedNode.className && event.relatedNode.className.includes(this.ignoredClass))) {\n        return // ignore AddressFinder changes\n    }\n\n    _setMutationTimeout()\n  }\n\n  _setMutationTimeout() {\n    if (this._mutationTimeout) {\n      clearTimeout(this._mutationTimeout) // reset previous timeout\n    }\n\n    // ignore any further changes for the next 750 mS\n    this._mutationTimeout = setTimeout(this.mutationEventHandler, 750)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mutation_helper.js","export default {\n  'Auckland Region':          ['Auckland', 'AUK'],\n  'Bay of Plenty Region':     ['Bay of Plenty', 'BOP'],\n  'Canterbury Region':        ['Canterbury', 'CAN'],\n  'Gisborne Region':          ['Gisborne', 'GIS'],\n  'Hawke\\'s Bay Region':      ['Hawke\\'s Bay', 'HKB'],\n  'Manawatu-Wanganui Region': ['Manawatu-Wanganui', 'MWT'],\n  'Marlborough Region':       ['Marlborough', 'MBH'],\n  'Nelson Region':            ['Nelson', 'NSN'],\n  'Northland Region':         ['Northland', 'NTL'],\n  'Otago Region':             ['Otago', 'OTA'],\n  'Southland Region':         ['Southland', 'STL'],\n  'Taranaki Region':          ['Taranaki', 'TKI'],\n  'Tasman Region':            ['Tasman', 'TAS'],\n  'Waikato Region':           ['Waikato', 'WKO'],\n  'Wellington Region':        ['Wellington', 'WGN'],\n  'West Coast Region':        ['West Coast', 'WTC'],\n  'Other Region':             [null]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/default_region_mappings.js","export default {\n  'ACT': ['Australian Capital Territory', 'ACT'],\n  'NSW': ['New South Wales', 'NSW'],\n  'NT' : ['Northern Territory', 'NT'],\n  'QLD': ['Queensland', 'QLD'],\n  'SA' : ['South Australia', 'SA'],\n  'TAS': ['Tasmania', 'TAS'],\n  'VIC': ['Victoria', 'VIC'],\n  'WA' : ['Western Australia', 'WA'],\n  'OT' : [null]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/default_state_mappings.js","\nimport defaultRegionMappings from './default_region_mappings'\nimport defaultStateMappings from './default_state_mappings'\n\nexport default {\n  label: \"User Registration Address Form\",\n  layoutSelector: \"AddressNewForm\",\n  countryIdentifier: '[name=\"address[country]\"]',\n  searchIdentifier: '[name=\"address[address1]\"]',\n  nz: {\n    countryValue: \"New Zealand\",\n    elements: {\n      address1and2: '[name=\"address[address1]\"]',\n      address1: null,\n      address2: null,\n      suburb: '[name=\"address[address2]\"]',\n      city: '[name=\"address[city]\"]',\n      region: '[name=\"address[province]\"]',\n      postcode: '[name=\"address[zip]\"]',\n    },\n    regionMappings: defaultRegionMappings\n  },\n  au: {\n    countryValue: \"Australia\",\n    elements: {\n      address1and2: null,\n      address1: '[name=\"address[address1]\"]',\n      address2: '[name=\"address[address2]\"]',\n      suburb: '[name=\"address[city]\"]',\n      state: '[name=\"address[province]\"]',\n      postcode: '[name=\"address[zip]\"]',\n    },\n    stateMappings: defaultStateMappings\n  }\n}\n\n// edit user registration adds an id to these fields.\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/user_registration_new_address.js","\nexport default {\n  label: \"Dynamic Address Form\",\n  layoutSelector: \"EditAddress\",\n  dynamic: true\n}\n\n\n// WEBPACK FOOTER //\n// ./src/address_form_config/user_registration_edit_address.js"],"sourceRoot":""}